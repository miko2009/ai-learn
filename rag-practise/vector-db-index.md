| 索引类型   | 分类                 | 适用场景                                                                 | 嵌入类型                          | 精度                                   | 延迟                                   | 内存使用量                                   | add_index 可设置的参数字段                                                                 |
|------------|----------------------|--------------------------------------------------------------------------|-----------------------------------|----------------------------------------|----------------------------------------|-----------------------------------------------|-------------------------------------------------------------------------------------------|
| FLAT       | 精确索引（暴力搜索） | 小规模数据集（万级以下）、对精度要求极高的场景                           | 任意维度向量                      | 100%（精确匹配）                       | 高（随数据量线性增长）                 | 中（仅存储原始向量，无额外索引开销）         | 无专属核心参数（无需聚类/量化/图结构优化，仅需配置`index_name`、`field_name`等通用字段，无额外算法参数） |
| IVF-FLAT   | 近似索引（聚类+倒排）| 中等规模数据集（十万至千万级）、精度与速度的平衡场景                     | 中低维度向量（通常<1000维）       | 高（可通过聚类中心数量调节，接近精确） | 中（远低于FLAT，随聚类数优化）         | 中高（需存储原始向量+聚类中心）             | - **nlist**：聚类中心数量（核心参数，建议值为数据集规模开方，如10万数据设100-1000，控制聚类粒度）<br>- **quantizer**：量化器类型（默认与索引一致为FLAT，无需手动修改） |
| IVF-PQ     | 近似索引（聚类+倒排+量化） | 大规模数据集（千万至亿级）、内存有限的场景                               | 中高维度向量（支持数千维）        | 中（PQ量化会损失部分精度，可调节量化参数） | 低（量化后计算更快）                   | 低（向量经PQ压缩，存储成本大幅降低）         | - **nlist**：聚类中心数量（同IVF-FLAT，影响簇内向量数量）<br>- **m**：PQ量化分段数（核心参数，将向量拆分为m段独立量化，如m=16/32，需为向量维度的约数）<br>- **nbits**：每段量化比特数（常用8bit，支持4/8/16bit，比特数越高精度越接近原始向量） |
| HNSW       | 近似索引（图结构）   | 对查询延迟敏感的场景（如实时推荐、搜索）、中大规模数据集                 | 任意维度向量（尤其适合高维）      | 高（接近精确，优于IVF系列）            | 极低（图结构支持快速导航）             | 高（需存储图结构+原始向量，内存开销大）     | - **M**：图中每个节点的最大邻居数（核心参数，建议16-64，M越大索引精度越高、构建/查询耗时越长）<br>- **efConstruction**：索引构建时的探索深度（建议100-200，值越大图结构越优、构建成本越高） |
| DISKANN    | 近似索引（磁盘优化的图结构） | 超大规模数据集（亿级以上）、内存资源有限的场景                           | 高维度向量                        | 中高（略低于HNSW，但优于IVF-PQ）       | 中低（磁盘IO引入额外开销，但优于FLAT） | 极低（主要依赖磁盘存储，内存占用少）         | - **max_degree**：图节点最大度数（类似HNSW的M，建议32-128，控制图密度）<br>- **search_memory_budget**：查询内存预算（单位MB，值越大查询时加载到内存的数据越多、延迟越低）<br>- **build_memory_budget**：构建内存预算（单位MB，适配内存有限场景，避免内存溢出） |


## 索引内存参照

| 索引类型       | 组成                                                                 | 内存消耗  |
| -------------- | -------------------------------------------------------------------- | --------- |
| IVF-PQ         | 质心(2 000×128×4 B)=1 MB<br>簇分配(1 000 000×2 B)=2 MB<br>PQ(1 000 000×8 B)=8 MB | ≈11 MB    |
| IVF-PQ + 10%精炼 | IVF-PQ(11 MB)+精炼缓存(1 000 000×128 × 0.1 ×4 B)=51.2 MB              | ≈62 MB    |
| IVF-SQ8        | 质心(1 MB)+簇分配(2 MB)+SQ8(1 000 000×128 × 1 B)=128 MB               | ≈131 MB   |
| IVF-FLAT       | 质心(1 MB)+簇分配(2 MB)+原始向量(1 000 000×128×4 B)=512 MB            | ≈515 MB   |
| HNSW           | 图结构(1 000 000×32×4 B)=128 MB<br>原始向量=512 MB                     | ≈640 MB   |
| HNSW-PQ        | 图结构(128 MB)+PQ(1 000 000×8 B)=8 MB                                 | ≈136 MB   | 